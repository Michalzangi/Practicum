<!DOCTYPE html>
<html class="no-js">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>practicum</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
    <meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
    <meta name="author" content="FREEHTML5.CO" />

    <!-- Facebook and Twitter integration -->
    <meta property="og:title" content=""/>
    <meta property="og:image" content=""/>
    <meta property="og:url" content=""/>
    <meta property="og:site_name" content=""/>
    <meta property="og:description" content=""/>
    <meta name="twitter:title" content="" />
    <meta name="twitter:image" content="" />
    <meta name="twitter:url" content="" />
    <meta name="twitter:card" content="" />

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="favicon.ico">

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,300' rel='stylesheet' type='text/css'>
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="css/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <!-- Superfish -->
    <link rel="stylesheet" href="css/superfish.css">
    <!-- Flexslider  -->
    <link rel="stylesheet" href="css/flexslider.css">
    <!-- Magnific Popup -->
    <link rel="stylesheet" href="css/magnific-popup.css">
    <!-- Date Picker -->
    <link rel="stylesheet" href="css/bootstrap-datepicker.min.css">
    <!-- CS Select -->
    <link rel="stylesheet" href="css/cs-select.css">
    <link rel="stylesheet" href="css/cs-skin-border.css">
    
    <link rel="stylesheet" href="css/style.css">

    <!-- Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <style>
        /* Style for centering the form */
    .search-property {
        margin: 0 auto; 
        max-width: 600px;
    }

    /* Additional styles for form elements */
    .s-holder h2 {
        text-align: center;
    }

    .s-holder section {
        margin-bottom: 15px;
    }
	</style>
    
</head>
<body>
    <div id="fh5co-wrapper">
    <div id="fh5co-page">
    
        <header id="fh5co-header-section" class="sticky-banner">
			<div class="container">
				<div class="nav-header">
					<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle dark"><i></i></a>
					<h1 id="fh5co-logo"><a href="HomeManager.html"><i class="icon-home"></i> Heh Bâ€™iyar <span> Real Estate</span></a></h1>
					<nav id="fh5co-menu-wrap" role="navigation">
						<ul class="sf-menu" id="fh5co-primary-menu">
							<li class="active"><a href="HomeManager.html">Home</a></li>
							<li>
								<a>Assets</a>
									<ul class="fh5co-sub-menu">
										<li><a href="all-Manager.html">All</a></li>
										<li><a href="filter-Manager.html">Filter</a></li>
										<li><a href="addA-Manager.html">Add</a></li>
										<li><a href="updateA-Manager.html">Update</a></li>
									</ul>
							</li>
							<li><a href="users-Manager.html">Users</a></li>
							<li><a href="addC-Manager.html">Customer</a></li>
							<li><a href="blog-Manager.html">Blog</a></li>
							<li><a href="addD-Manager.html">Deal</a></li>
							<li>
								<a>Meetings</a>
									<ul class="fh5co-sub-menu">
										<li><a href="meetingA-Manager.html">Add</a></li>
										<li><a href="meetingV-Manager.html">View</a></li>
									</ul>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</header>
        <aside id="fh5co-hero" class="js-fullheight">
            <div class="flexslider js-fullheight">
                <ul class="slides">
                <li style="background-image: url(images/cov.png);">
                    <div class="overlay"></div>
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-8 col-md-offset-2 text-center js-fullheight slider-text">
                            <div class="slider-text-inner">
                                    <h2 class="heading-title">Our Assets</h2>
                                    <p class="fh5co-lead">Coming Soon <i class="icon-heart3"></i>  </p>
                        </div>
                        </div>
                    </div>
                </li>
                </ul>
            </div>
        </aside>


    <title>Search Assetss</title>

    <div class="search-property">
        <div class="s-holder">
            <h2>Search Assets</h2>
            <div class="row">
                <div class="col-xxs-12 col-xs-12">
                    <section>
                        <label for="class">Asset Type:</label>
                        <select id="asset-type-select" class="cs-select cs-skin-border">
                            <option value="" disabled selected>Any</option>
                            <option value="Rent">Rent</option>
                            <option value="Sell">Sell</option>
                        </select>
                    </section>
                </div>
                    <div class="col-xxs-12 col-xs-12">
                        <section>
                            <label for="class">City:</label>
                            <input type="text" class="form-control small-input" id="city" placeholder="Any" pattern="[A-Za-z]+" title="Please enter letters only" />
                        </section>
                    </div>
                    <div class="col-xxs-12 col-xs-12">
                        <section>
                            <label for="class">Asset Price:</label>
                            <div class="wide">
                                <input type="number" class="form-control small-input" id="asset-price-min" placeholder="Min" min="0" step="any"/>
                                <input type="number" class="form-control small-input" id="asset-price-max" placeholder="Max" min="0" step="any"/>
                            </div>
                        </section>
                    </div>
                    <div class="col-xxs-12 col-xs-12">
                        <section>
                            <label for="class">Room Number:</label>
                            <input type="number" class="form-control small-input" id="room-number" placeholder="Any" min="1"/>
                        </section>
                    </div>
                    <div class="col-xxs-12 col-xs-12">
                        <div class="input-field">
                            <label for="from">Asset Street Number:</label>
                            <input type="number" class="form-control small-input" id="asset-street-number" placeholder="Any" min="1"/>
                        </div>
                    </div>
                    <div class="col-xxs-12 col-xs-12">
                        <div class="input-field">
                            <label for="from">Asset Street:</label>
                            <input type="text" class="form-control" id="from-place" placeholder="Any"/>
                        </div>
                    </div>
                    <div class="col-xxs-12 col-xs-12 text-center">
                        <!-- Add an ID to the link for easy identification -->
                        <p><a id="learn-more-link" class="btn btn-primary btn-lg" href="#">Submit Form</a></p>
                    </div>
    
                    <!-- Add a div to display filtered assets -->
                    <div id="filtered-assets"></div>
                </div>
            </div>
        </div>
        <div class="map" style="background-image: url(images/cover_bg_1.jpg);"></div>
    </div>
    
    <script>
        // Function to handle the "Learn More" click event
        document.getElementById("learn-more-link").addEventListener("click", async function(event) {
            event.preventDefault(); // Prevent default link behavior
            
            // Gather data from input fields
            const assetType = document.getElementById("asset-type-select").value;
            const assetCity = document.getElementById("city").value;
            const assetPriceMin = document.getElementById("asset-price-min").value;
            const assetPriceMax = document.getElementById("asset-price-max").value;
            const roomNumber = document.getElementById("room-number").value;
            const assetStreetNumber = document.getElementById("asset-street-number").value;
            const assetStreet = document.getElementById("from-place").value;
                
    // Construct the URL with query parameters
            const url = `/CustomerAssetsForManager?assetType=${assetType}&assetCity=${assetCity}&assetPriceMin=${assetPriceMin}&assetPriceMax=${assetPriceMax}&roomNumber=${roomNumber}&assetStreetNumber=${assetStreetNumber}&assetStreet=${assetStreet}`;
            // Log gathered data for debugging
            console.log("Asset Type:", assetType);
            console.log("Asset City:", assetCity);
            console.log("Asset Price (Min):", assetPriceMin);
            console.log("Asset Price (Max):", assetPriceMax);
            console.log("Room Number:", roomNumber);
            console.log("Asset Street Number:", assetStreetNumber);
            console.log("Asset Street:", assetStreet);

    
            // Make an asynchronous GET request
            try {
                const response = await fetch(url, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
    
                const data = await response.json();
                console.log(data); // Log response for debugging
    
                // Update the filtered-assets div with the received data
                const filteredAssetsDiv = document.getElementById("filtered-assets");
                // Clear previous content
                filteredAssetsDiv.innerHTML = "";
    
                // Loop through the filtered assets and create HTML elements to display them
                // Loop through the filtered assets and create HTML elements to display them
				data.forEach(asset => {
    				const assetContainer = document.createElement("div");
    				assetContainer.classList.add("asset-container");

    				const image = document.createElement("img");
    				image.src = asset.AssetImage;
    				image.classList.add("asset-image");
    				assetContainer.appendChild(image);

    				const details = document.createElement("div");
    				details.classList.add("asset-details");
    				details.innerHTML = `
                    <p>Asset City: ${asset.AssetCity}</p>
       				<p>Asset Type: ${asset.AssetType}</p>
       				<p>Price: ${asset.AssetPrice}</p>
        			<p>Street: ${asset.AssetStreet}</p>
        			<p>Room Number: ${asset.RoomNum}</p>
                    <p>Description: ${asset.AssetDescription}</p>
                    <p>Asset Status: ${asset.AssetStatus}</p>
    				`;
    				assetContainer.appendChild(details);

    				filteredAssetsDiv.appendChild(assetContainer);
				});

            } catch (error) {
                console.error('Error:', error);
            }
        });
    </script>

            <div class="container">
                <div class="row">
                        </div>
                    </div>

        <footer>
			<div id="footer">
				<div class="container">
					<div class="row row-bottom-padded-md">
						<div class="col-md-3">
							<h3 class="section-title">About Us</h3>
							<p>We, Bar Michal and Nofar, information systems management students at the College of Management, own all the exclusive rights to this website <i class="icon-heart3"></i></p>
						</div>
						
						<div class="col-md-3 col-md-push-1">
							<h3 class="section-title">Links</h3>
							<ul>
								<li><a href="#">Home</a></li>
								<li><a href="#">Assets</a></li>
								<li><a href="#">Agent</a></li>
								<li><a href="#">Blog</a></li>
								<li><a href="#">Contact</a></li>
							</ul>
						</div>

                        <div class="col-md-3">
                            <h3 class="section-title">Information</h3>
                            <ul>
                                <li><a href="#">Terms &amp; Condition</a></li>
                                <li><a href="#">License</a></li>
                                <li><a href="#">Privacy &amp; Policy</a></li>
                                <li><a href="#">Contact Us</a></li>
                            </ul>
                        </div>
                        <div class="col-md-3">
                            <h3 class="section-title">Newsletter</h3>
                            <p>Subscribe for our newsletter</p>
                            <form class="form-inline" id="fh5co-header-subscribe">
                                <div class="row">
                                    <div class="col-md-12 col-md-offset-0">
                                        <div class="form-group">
                                            <input type="text" class="form-control" id="email" placeholder="Enter your email">
                                            <button type="submit" class="btn btn-default"><i class="icon-paper-plane"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <p class="fh5co-social-icons">
                                <a href="#"><i class="icon-twitter2"></i></a>
                                <a href="#"><i class="icon-facebook2"></i></a>
                                <a href="#"><i class="icon-instagram"></i></a>
                                <a href="#"><i class="icon-dribbble2"></i></a>
                                <a href="#"><i class="icon-youtube"></i></a>
                            </p>
                    </div>
                </div>
            </div>
        </footer>

    

    </div>
    <!-- END fh5co-page -->

    </div>
    <!-- END fh5co-wrapper -->

    <!-- jQuery -->

    <script src="js/jquery.min.js"></script>
    <!-- jQuery Easing -->
    <script src="js/jquery.easing.1.3.js"></script>
    <!-- Bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Waypoints -->
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/sticky.js"></script>
    <!-- Superfish -->
    <script src="js/hoverIntent.js"></script>
    <script src="js/superfish.js"></script>
    <!-- Flexslider -->
    <script src="js/jquery.flexslider-min.js"></script>
    <!-- Date Picker -->
    <script src="js/bootstrap-datepicker.min.js"></script>
    <!-- CS Select -->
    <script src="js/classie.js"></script>
    <script src="js/selectFx.js"></script>

    
    <!-- Main JS -->
    <script src="js/main.js"></script>

    </body>
</html>


